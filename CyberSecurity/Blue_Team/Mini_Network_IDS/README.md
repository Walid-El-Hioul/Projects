# Mini IDS

## Overview
Mini IDS is a lightweight Intrusion Detection System (IDS) designed to monitor network traffic and detect potential security threats in real-time. It logs network packets and identifies anomalies based on predefined rules, providing alerts for suspicious activities.

## Table of Contents
1. [Installation](#installation)
2. [Usage](#usage)
3. [Project Structure](#project-structure)
4. [API Documentation](#api-documentation)
5. [Configuration](#configuration)
6. [Contributing](#contributing)
7. [Testing](#testing)
8. [FAQ](#faq)
9. [License](#license)
10. [Changelog](#changelog)
11. [Contact](#contact)

## Installation

### Prerequisites
- Python 3.7 or higher
- MySQL Server
- Scapy library

### Steps
1. **Clone the repository:**
   ```bash
   git clone https://github.com/username/mini-ids.git
   cd mini-ids
   ```
2. **Install required Python packages:**
   ```bash
   pip install -r requirements.txt
   ```
3. **Configure the system:**
   Run the configuration setup script to create the necessary configuration file:
   ```bash
   python config_setup.py
   ```

## Usage

### Basic Usage
To start the Mini IDS, simply run the `main.py` file:
```bash
python main.py
```
This will initiate the packet sniffer and start logging network traffic. Alerts will be sent via email when anomalies are detected.

### Configuration
The IDS can be configured using the `config.json` file, which is generated by the configuration script. This file contains settings for the database, network interface, and alert system.

## Project Structure

```plaintext
IDS_Project/
├── frontend/
│   ├── main_window.py
│   ├── button_panel.py
│   ├── packet_sniffer_panel.py
│   ├── anomalies_detection_panel.py
│   ├── errors_panel.py
│   ├── tool_bar_panel.py
│   ├── ids_threads.py
│   └── styles.css
├── backend/
│   ├── base_packet_sniffer.py
│   ├── anomalies_detector.py
│   ├── logger.py
│   ├── ids.py
│   ├── security.py
│   ├── database.py
│   └── utils.py
└── config/
    └── config.json
```

- **main.py**: The entry point of the application.
- **config_setup.py**: Script to generate and configure the `config.json` file.
- **src/logger.py**: Contains classes for logging packets and anomalies.
- **src/packet_sniffer.py**: Handles the packet capturing and processing.
- **src/anomaly_detector.py**: Implements the logic for detecting network anomalies.
- **src/alert_manager.py**: Manages sending alerts to the configured recipients.

## API Documentation

### Logger Class
- **`Logger.__init__(self, db_name)`**:
  Initializes the logger with the specified database name.
  
- **`Logger.log(self, message)`**:
  Logs a message to the database.

### PacketLogger Class
- **`PacketLogger.__init__(self)`**:
  Initializes the packet logger and prepares the PCAP writer.
  
- **`PacketLogger.log_packet(self, packet)`**:
  Logs a captured packet to the PCAP file.

### AnomalyDetector Class
- **`AnomalyDetector.__init__(self)`**:
  Initializes the anomaly detector.
  
- **`AnomalyDetector.detect(self, packet)`**:
  Analyzes a packet and detects potential anomalies.

### AlertManager Class
- **`AlertManager.send_email(self, subject, body)`**:
  Sends an alert email with the specified subject and body.

## Configuration

The configuration is stored in `config.json` and includes:

- **Database Settings**:
  ```json
  "db_config": {
      "host": "localhost",
      "user": "root",
      "password": "your_password",
      "anomalies_database_name": "anomalies_db",
      "packets_database_name": "packets_db"
  }
  ```
- **Network Interface**:
  ```json
  "interface": {
      "interface": "eth0"
  }
  ```
- **Alert Settings**:
  ```json
  "alert_config": {
      "sender_gmail": "your_email@gmail.com",
      "password": "your_password",
      "receiver_email": "receiver_email@gmail.com"
  }
  ```

## Contributing

We welcome contributions to the Mini IDS project! Please follow these steps to contribute:

1. Fork the repository.
2. Create a new branch (`git checkout -b feature-branch`).
3. Commit your changes (`git commit -m 'Add some feature'`).
4. Push to the branch (`git push origin feature-branch`).
5. Open a pull request.

Please ensure your code follows the project's coding standards and is well-documented.

## Testing

### Running Tests
To run the test suite, use the following command:
```bash
python -m unittest discover tests/
```
This will execute all unit tests located in the `tests/` directory.

## FAQ

### How do I add a new rule to the anomaly detector?
Rules can be added by modifying the `anomaly_detector.py` file. Follow the existing rule structure to add your own custom detection logic.

### How do I change the network interface used by Mini IDS?
Edit the `interface` setting in the `config.json` file to specify the desired network interface.

## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for more details.

## Changelog

### Version 1.0.0
- Initial release with packet logging and anomaly detection features.

## Contact

For questions or support, please contact the project maintainer at `your_email@gmail.com`.
